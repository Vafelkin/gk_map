<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>–ö–∞—Ä—Ç–∞-—Å—Ö–µ–º–∞ –æ–±—ä–µ–∫—Ç–æ–≤ –°–í–ü (–ü—Ä–æ—Ç–æ—Ç–∏–ø)</title>
    <link rel="stylesheet" href="./styles.css" />
    <script type="module" src="./js/app.js"></script>
    <script>
      // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ DOM
      document.addEventListener('DOMContentLoaded', () => {
        if (window.initApp) {
          window.initApp();
        }
      });
    </script>
  </head>
  <body>
    <header class="app-header">
      <div class="brand">–ö–∞—Ä—Ç–∞-—Å—Ö–µ–º–∞ –æ–±—ä–µ–∫—Ç–æ–≤ –°–í–ü (–ü—Ä–æ—Ç–æ—Ç–∏–ø)</div>
      <nav class="controls">
        <div class="control-group">
          <label for="searchInput">–ü–æ–∏—Å–∫ –æ–±—ä–µ–∫—Ç–∞</label>
          <input id="searchInput" list="systemsDatalist" placeholder="–ù–∞—á–Ω–∏—Ç–µ –≤–≤–æ–¥–∏—Ç—å" />
          <datalist id="systemsDatalist"></datalist>
          <button id="searchBtn" class="btn">–ù–∞–π—Ç–∏</button>
        </div>
        <div class="control-group route-group">
          <label>–ú–∞—Ä—à—Ä—É—Ç</label>
          <input id="fromInput" list="systemsDatalist" placeholder="–û—Ç–∫—É–¥–∞" />
          <input id="toInput" list="systemsDatalist" placeholder="–ö—É–¥–∞" />
          <button id="routeBtn" class="btn primary">–ü–æ—Å—Ç—Ä–æ–∏—Ç—å</button>
          <span id="routeInfo" class="muted"></span>
        </div>
        <div class="control-group">
          <label class="muted"><input id="dragToggle" type="checkbox" /> –í–∫–ª—é—á–∏—Ç—å –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ</label>
        </div>
        
        <div class="control-group edit-group">
          <button id="addNodeBtn" class="btn">+ –£–∑–µ–ª</button>
          <button id="addEdgeBtn" class="btn">+ –õ–∏–Ω–∏—è</button>
          <button id="deleteBtn" class="btn danger">–£–¥–∞–ª–∏—Ç—å</button>
        </div>
        
        <div class="control-group export-group">
          <button id="exportBtn" class="btn">üì§ –≠–∫—Å–ø–æ—Ä—Ç</button>
          <button id="importBtn" class="btn">üì• –ò–º–ø–æ—Ä—Ç</button>
          <button id="statsBtn" class="btn">üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</button>
          <button id="undoBtn" class="btn">‚Ü∂ –û—Ç–º–µ–Ω–∞</button>
          <button id="redoBtn" class="btn">‚Ü∑ –ü–æ–≤—Ç–æ—Ä</button>
          <button id="selectAllBtn" class="btn">‚òë –í—Å–µ</button>
          <button id="deselectAllBtn" class="btn">‚òê –°–Ω—è—Ç—å –≤—ã–±–æ—Ä</button>
          <button id="deleteSelectedBtn" class="btn">üóë –£–¥–∞–ª–∏—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—ã–µ</button>
          <button id="saveMapBtn" class="btn">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
        </div>
        
        <div class="control-group zoom-group">
          <button id="zoomInBtn" class="btn">+</button>
          <button id="zoomOutBtn" class="btn">‚àí</button>
          <button id="resetViewBtn" class="btn">–°–±—Ä–æ—Å</button>
        </div>
      </nav>
    </header>

    <main class="app-main">
      <div class="map-container">
        <svg id="map" tabindex="0" role="img" aria-label="–ö–∞—Ä—Ç–∞ —Ä–µ–≥–∏–æ–Ω–∞ The Forge">
          <defs>
            <pattern id="gridPattern" width="50" height="50" patternUnits="userSpaceOnUse">
              <path d="M 50 0 L 0 0 0 50" fill="none" stroke="#dfe6ef" stroke-width="0.5" />
            </pattern>
            <pattern id="gridPatternMinor" width="10" height="10" patternUnits="userSpaceOnUse">
              <path d="M 10 0 L 0 0 0 10" fill="none" stroke="#eff3f8" stroke-width="0.25" />
            </pattern>
            <filter id="shadow" x="-50%" y="-50%" width="200%" height="200%">
              <feDropShadow dx="0" dy="1" stdDeviation="1" flood-color="#000" flood-opacity="0.25" />
            </filter>
          </defs>
          <g id="viewport">
            <rect id="bgMinor" x="-5000" y="-5000" width="10000" height="10000" fill="url(#gridPatternMinor)" />
            <rect id="bgMajor" x="-5000" y="-5000" width="10000" height="10000" fill="url(#gridPattern)" />
            <g id="edgesLayer"></g>
            <g id="nodesLayer"></g>
            <g id="labelsLayer"></g>
          </g>
        </svg>
      </div>
    </main>

    <footer class="app-footer">
      <div>
        <strong>–ö–∞—Ä—Ç–∞ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ</strong>
      </div>
      <div class="legend">
        <button class="legend-item" data-road="ckad"><span class="chip road-ckad"></span> –¶–ö–ê–î</button>
        <button class="legend-item" data-road="m12"><span class="chip road-m12"></span> –ú-12 "–í–æ—Å—Ç–æ–∫"</button>
        <button class="legend-item" data-road="a289"><span class="chip road-a289"></span> –ê-289</button>
        <button class="legend-item" data-road="m1"><span class="chip road-m1"></span> –ú-1 "–ë–µ–ª–∞—Ä—É—Å—å"</button>
        <button class="legend-item" data-road="m3"><span class="chip road-m3"></span> –ú-3 "–£–∫—Ä–∞–∏–Ω–∞"</button>
        <button class="legend-item" data-road="m4"><span class="chip road-m4"></span> –ú-4 "–î–æ–Ω"</button>
        <button class="legend-item" data-road="m11"><span class="chip road-m11"></span> –ú-11 "–ù–µ–≤–∞"</button>
      </div>
    </footer>

         <!-- –ü–∞–Ω–µ–ª—å —Å–æ–∑–¥–∞–Ω–∏—è —É–∑–ª–∞ -->
     <div id="nodeCreationPanel" class="node-creation-panel" style="display: none;">
       <h3>–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π —É–∑–µ–ª</h3>
       <div class="form-group">
         <label for="newNodeId">ID —É–∑–ª–∞:</label>
         <input type="text" id="newNodeId" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: 999">
       </div>
       <div class="form-group">
         <label for="newNodeName">–ù–∞–∑–≤–∞–Ω–∏–µ:</label>
         <input type="text" id="newNodeName" placeholder="–û–ø–∏—Å–∞–Ω–∏–µ —É–∑–ª–∞">
       </div>
       <div class="form-group">
         <label for="newNodeType">–¢–∏–ø –¥–æ—Ä–æ–≥–∏:</label>
         <select id="newNodeType">
           <option value="road-ckad">–¶–ö–ê–î</option>
           <option value="road-m12">–ú-12 "–í–æ—Å—Ç–æ–∫"</option>
           <option value="road-a289">–ê-289</option>
           <option value="road-m1">–ú-1 "–ë–µ–ª–∞—Ä—É—Å—å"</option>
           <option value="road-m3">–ú-3 "–£–∫—Ä–∞–∏–Ω–∞"</option>
           <option value="road-m4">–ú-4 "–î–æ–Ω"</option>
           <option value="road-m11">–ú-11 "–ù–µ–≤–∞"</option>
         </select>
       </div>
       <div class="form-group">
         <label for="newNodeCornerTag">–£–≥–ª–æ–≤–æ–π —Ç–µ–≥:</label>
         <input type="text" id="newNodeCornerTag" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ü–ö-1">
       </div>
       <div class="form-group">
         <label for="newNodeKm">–ö–∏–ª–æ–º–µ—Ç—Ä:</label>
         <input type="text" id="newNodeKm" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: 150">
       </div>
       <div class="form-actions">
         <button id="createNodeBtn" class="btn primary">–°–æ–∑–¥–∞—Ç—å</button>
         <button id="cancelNodeBtn" class="btn">–û—Ç–º–µ–Ω–∞</button>
       </div>
     </div>

    <script src="./app.js"></script>
  </body>
  </html>


